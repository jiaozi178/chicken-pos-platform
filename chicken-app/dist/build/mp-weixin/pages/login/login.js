"use strict";const e=require("../../common/vendor.js"),o=require("../../common/assets.js"),s=require("../../api/login.js"),t=require("../../stores/modules/user.js");require("../../utils/http.js");const n=e.defineComponent({__name:"login",setup(n){let i="";e.onLoad((async()=>{const o=await e.wx$1.login();i=o.code}));const c=async()=>{console.log("login");const e=await s.loginAPI(i);console.log(e),r(e.data)},r=o=>{t.useUserStore().setProfile(o),e.index.showToast({icon:"success",title:"登录成功"}),setTimeout((()=>{e.index.switchTab({url:"/pages/my/my"})}),500)},a=async()=>{e.index.showToast({title:"司辰，直接微信快捷登录就好哦~",icon:"none"})};return(s,t)=>({a:o._imports_0,b:e.o(c),c:e.o(a)})}}),i=e._export_sfc(n,[["__scopeId","data-v-489de160"]]);wx.createPage(i);
