"use strict";const e=require("../../common/vendor.js"),s=require("../../api/address.js"),t=require("../../stores/modules/address.js");require("../../utils/http.js"),require("../../stores/modules/user.js"),Math||d();const d=()=>"../../components/empty/Empty.js",r=e.defineComponent({__name:"address",setup(d){const r=t.useAddressStore(),a=e.ref(!0),i=e.ref([]),o=r.addressBackUrl,n=e.computed((()=>e.index.getSystemInfoSync().statusBarHeight+"px"));e.onMounted((()=>{u()}));const u=async()=>{a.value=!1;const e=await s.getAddressListAPI();0===e.code&&(a.value=!0,i.value=e.data)},l=e=>"公司"===e?"1":"家"===e?"2":"学校"===e?"3":"4",c=e=>null===e?"其他":e,p=(s,t)=>{"新增"===s?e.index.redirectTo({url:"/pages/addOrEditAddress/addOrEditAddress"}):(console.log("我要去编辑地址页面！！！  item",t),e.index.redirectTo({url:"/pages/addOrEditAddress/addOrEditAddress?type=编辑&id="+t.id}))},g=async(t,d)=>{0===(await s.updateDefaultAddressAPI({id:d.id})).code&&(e.index.showToast({title:"默认地址设置成功",duration:2e3,icon:"none"}),u())};return(s,t)=>e.e({a:i.value&&i.value.length>0},i.value&&i.value.length>0?{b:e.f(i.value,((s,t,d)=>e.e({a:e.t(c(s.label)),b:e.n("tag"+l(s.label)),c:e.t(s.provinceName),d:e.t(s.cityName),e:e.t(s.districtName),f:e.t(s.detail),g:e.t(1===s.gender?s.consignee+" 男士":s.consignee+" 女士"),h:e.t(s.phone),i:e.o((e=>p("编辑",s)),t),j:e.o((t=>((s,t)=>{if(console.log("addressBackUrl",o),"/pages/submit/submit"!==o)return!1;e.index.redirectTo({url:"/pages/submit/submit?address="+JSON.stringify(t)})})(0,s)),t)},a.value?{k:String(s.id),l:1===s.isDefault,m:e.o((e=>g(0,s)),t)}:{},{n:e.o((e=>g(0,s)),t),o:t}))),c:a.value}:{d:e.p({boxHeight:"100%",textLabel:"暂无地址"})},{e:e.o((e=>p("新增",0))),f:`calc(100% - 136rpx - ${n.value} - 44px - 20rpx)`})}}),a=e._export_sfc(r,[["__scopeId","data-v-9b2d1749"]]);wx.createPage(a);
